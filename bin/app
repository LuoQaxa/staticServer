#! /usr/bin/env node
const yargs = require('yargs');
let Server = require('../src/appCache.js');
const child = require('child_process');
const path=require('path')
const os = require('os');
let argv = yargs.option('d', {
    alias: 'root',
    demand: 'false',
    type: 'string',
    default: path.resolve(process.cwd(),'public'),
    description: '静态文件根目录'
}).option('o', {
    alias: 'host',
    demand: 'false',
    default: 'localhost',
    type: 'string',
    description: '请配置监听的主机'
}).option('p', {
    alias: 'port',
    demand: 'false',
    type: 'number',
    default: 9898,
    description: '请配置端口号'
})
    .usage('rcw-staticserver [options]')
    .example(
        'rcw-staticserver -d / -p 9898 -o localhost', '在本机的9898端口上监听客户端的请求'
    ).help('h').argv;

// argv = {d,root,o,host,p,port}
let server = new Server(argv).start();
//zf-server2
//命令行中的命令指向了npm目录bat文件，而 bat文件又指向了当前目录 的www文件